<!DOCTYPE html>
<head>
    <title><%= title %></title>
    <link href="https://unpkg.com/nes.css/css/nes.min.css" rel="stylesheet" />
    <link href='https://fonts.googleapis.com/css?family=Press Start 2P' rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <div id="nescss">
        <header class="sticky">
            <div class="container">
                <div class="nav-brand">
                    <h1><%= title %></h1>
                    <h2>Challenge Instancer</h2>
                </div>
            </div>
        </header>
        <div class="container">
            <main class="main-content">
                <section id="create-container" class="nes-container with-title is-centered">
                    <h3 class="title">Create Instance</h3>
                    <div class="item">
                        <div class="nes-container is-dark with-title nes-pointer">
                            <h4 class="nes-text">Team Token</h4>
                            <input id="team-token" class="nes-input <%= invalidToken ? 'is-error' : '' %>" type="text" placeholder="Token">
                            <h6 class="nes-text is-error" style="margin-top: 16px;"><%= invalidToken ? 'Invalid Token' : '' %></h6>
                        </div>
                        <button id="create-button" class="nes-btn is-success">Create</button>
                    </div>
                </section>
            </main>
            <footer>
                <div>
                    <span>&copy;2024</span>
                    <span>Powered by <a href="https://nostalgic-css.github.io/NES.css/">NES.css</a></span>
                </div>
            </footer>
        </div>
        <div>
            <dialog id="turnstile-dialog" class="nes-dialog is-dark">
                <section class="nes-container is-centered">
                    <section class="message-left">
                        <i class="nes-kirby"><br></i>
                        <div class="nes-balloon from-left is-dark">
                            <p class="nes-text">Verify that you are not a robot...</p>
                        </div>
                    </section>
                    <form action="/create" method="POST">
                        <div class="cf-turnstile" data-sitekey="<%= turnstileSitekey %>"
                                data-callback="submitCreateInstance" style="margin-top: 2rem">
                        </div>
                        <input id="submit-token" name="token" value="" type="hidden">
                    </form>
                </section>
            </dialog>
        </div>
        <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
        <script src="js/turnstile.js"></script>
    </div>
</body>
